apiVersion: traefik.io/v1alpha1
kind: Middleware
metadata:
  name: large-payload
  namespace: apps
spec:
  buffering:
    maxRequestBodyBytes: 10737418240  # 10GB
    maxResponseBodyBytes: 10737418240 # 10GB
  headers:
    customRequestHeaders:
      X-Forwarded-Proto: https
  rateLimit:
    burst: 100
    period: 1m
  retries:
    attempts: 3
  timeouts:
    read: "30m"
    write: "30m"
    connect: "30s"