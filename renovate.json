{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "enabledManagers": [
    "kubernetes",
    "helm-values",
    "flux",
    "kustomize"
  ],
  "kubernetes": {
    "managerFilePatterns": [
      "apps/**/*.yaml",
      "helm-repositories/**/*.yaml",
      "helm/*.yaml"
    ]
  },
  "automergeStrategy": "merge-commit",
  "flux": {
    "managerFilePatterns": ["clusters/home/flux-system/**/*.yaml", "apps/**/*.yaml", "helm/*.yaml"]
  },
  "hostRules": [
    {
      "hostType": "helm",
      "matchHost": "pmint93.github.io",
      "registryUrls": ["https://pmint93.github.io/helm-charts"]
    },
    {
      "hostType": "helm",
      "matchHost": "charts.goauthentik.io",
      "registryUrls": ["https://charts.goauthentik.io"]
    }
  ],
  "registryAliases": {
    "pmint93": "https://pmint93.github.io/helm-charts"
  },
  "packageRules": [
    {
      "matchDatasources": ["helm"],
      "matchPackageNames": ["metabase"],
      "groupName": "Metabase Helm Chart"
    },
    {
      "matchDatasources": ["docker"],
      "matchPackageNames": ["metabase/metabase"],
      "groupName": "Metabase Docker Image"
    },
    {
      "matchUpdateTypes": ["patch"],
      "automerge": true
    },
    {
      "matchUpdateTypes": ["minor"],
      "automerge": true
    },
    {
      "matchUpdateTypes": ["major"],
      "automerge": false
    }
  ]
}
